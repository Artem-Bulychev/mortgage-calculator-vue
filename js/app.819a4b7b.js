(function(){"use strict";var e={3888:function(e,t,a){var n=a(5130),l=a(6768);const r={id:"app"};function o(e,t,a,n,o,i){const u=(0,l.g2)("MortgageCalculator");return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.bF)(u)])}var i=a(4232);const u={class:"credit-calculator"},s={class:"form-section"},m={class:"rate-options"},c=["onClick"],p={class:"checkbox-switch"},d={class:"switch-container"},v={class:"checkbox-switch"},f={class:"summary"},k={class:"summary-item"},y={class:"summary-value"},h={class:"summary-item"},b={class:"summary-value"},L={class:"summary-item"},g={class:"summary-value"};function C(e,t,a,r,o,C){const x=(0,l.g2)("number-input");return(0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("div",s,[t[8]||(t[8]=(0,l.Lk)("div",{class:"credit-goal"},[(0,l.Lk)("label",null,"Цель кредита:"),(0,l.Lk)("select",null,[(0,l.Lk)("option",null,"Квартира на вторичном рынке"),(0,l.Lk)("option",null,"Квартира на первичном рынке"),(0,l.Lk)("option",null,"Загородная недвижимость")])],-1)),(0,l.Lk)("div",m,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.interestRates,(e=>((0,l.uX)(),(0,l.CE)("button",{key:e.name,class:(0,i.C4)({active:o.selectedRate===e.rate}),onClick:t=>o.selectedRate=e.rate},(0,i.v_)(e.name)+" от "+(0,i.v_)(e.rate)+"% ",11,c)))),128))]),(0,l.Lk)("div",p,[t[6]||(t[6]=(0,l.Lk)("label",null,"Получаю зарплату на Сбер",-1)),(0,l.Lk)("div",d,[(0,l.Lk)("span",{class:(0,i.C4)(["rate-indicator",{active:o.isBankCustomer}])},"-0,5%",2),(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>o.isBankCustomer=e)},null,512),[[n.lH,o.isBankCustomer]])])]),(0,l.bF)(x,{modelValue:o.propertyValue,"onUpdate:modelValue":t[1]||(t[1]=e=>o.propertyValue=e),label:"Стоимость недвижимости",min:334e3,max:1e8},null,8,["modelValue"]),(0,l.bF)(x,{modelValue:o.initialPayment,"onUpdate:modelValue":t[2]||(t[2]=e=>o.initialPayment=e),label:"Первоначальный взнос",min:.101*o.propertyValue,max:o.propertyValue},null,8,["modelValue","min","max"]),(0,l.Lk)("div",v,[t[7]||(t[7]=(0,l.Lk)("label",null,"Использовать материнский капитал",-1)),(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>o.useMaternityCapital=e)},null,512),[[n.lH,o.useMaternityCapital]])]),(0,l.bF)(x,{modelValue:o.loanTerm,"onUpdate:modelValue":t[4]||(t[4]=e=>o.loanTerm=e),label:"Срок кредита",min:1,max:30},null,8,["modelValue"])]),(0,l.Lk)("div",f,[(0,l.Lk)("div",k,[t[9]||(t[9]=(0,l.Lk)("p",{class:"summary-title"},"Процентная ставка",-1)),(0,l.Lk)("p",y,(0,i.v_)(C.interestRate)+"%",1)]),(0,l.Lk)("div",h,[t[10]||(t[10]=(0,l.Lk)("p",{class:"summary-title"},"Ежемесячный платеж",-1)),(0,l.Lk)("p",b,(0,i.v_)(C.formatNumber(C.monthlyPayment))+" руб.",1)]),(0,l.Lk)("div",L,[t[11]||(t[11]=(0,l.Lk)("p",{class:"summary-title"},"Сумма кредита",-1)),(0,l.Lk)("p",g,(0,i.v_)(C.formatNumber(C.loanAmount))+" руб.",1)]),(0,l.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>C.getApproval&&C.getApproval(...e))},"Получить одобрение")])])}const x={class:"number-input-container"},V={class:"input-range"},_=["value","min","max"],M=["value","min","max"];function w(e,t,a,n,r,o){return(0,l.uX)(),(0,l.CE)("div",x,[(0,l.Lk)("label",null,(0,i.v_)(a.label)+":",1),(0,l.Lk)("div",V,[(0,l.Lk)("input",{type:"number",value:a.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),min:a.min,max:a.max},null,40,_),(0,l.Lk)("input",{type:"range",value:a.modelValue,onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",t.target.value)),min:a.min,max:a.max},null,40,M)])])}var A={props:["modelValue","label","min","max"],emits:["update:modelValue"]},O=a(1241);const R=(0,O.A)(A,[["render",w],["__scopeId","data-v-452059ce"]]);var P=R;const F=[{name:"Базовая ставка",rate:4.9},{name:"Военная ипотека",rate:.4},{name:"Без первоначального взноса",rate:5.7}];var T={data(){return{interestRates:F,selectedRate:F[0].rate,isBankCustomer:!1,propertyValue:1e7,initialPayment:101e4,useMaternityCapital:!1,loanTerm:10}},computed:{interestRate(){return Math.max(.1,this.selectedRate-(this.isBankCustomer?.5:0))},loanAmount(){return Math.max(0,this.propertyValue-this.initialPayment-(this.useMaternityCapital?5e5:0))},monthlyPayment(){if(this.loanAmount<=0||this.loanTerm<=0)return 0;const e=this.interestRate/12/100;return parseFloat((this.loanAmount*(e/(1-Math.pow(1+e,12*-this.loanTerm)))).toFixed(2))}},methods:{formatNumber(e){return e.toLocaleString("ru-RU")},getApproval(){console.log({interest_rate:this.interestRate,loan_amount:this.loanAmount,initial_payment:this.useMaternityCapital?void 0:this.initialPayment,bank_customer:this.isBankCustomer,loan_term:this.loanTerm,maternity_capital:this.useMaternityCapital?5e5:void 0,personal_funds:this.useMaternityCapital?this.initialPayment:void 0})}},components:{NumberInput:P}};const E=(0,O.A)(T,[["render",C],["__scopeId","data-v-76938eb5"]]);var j=E,B={name:"App",components:{MortgageCalculator:j}};const I=(0,O.A)(B,[["render",o]]);var U=I;(0,n.Ef)(U).mount("#app")}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,l,r){if(!n){var o=1/0;for(m=0;m<e.length;m++){n=e[m][0],l=e[m][1],r=e[m][2];for(var i=!0,u=0;u<n.length;u++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[u])}))?n.splice(u--,1):(i=!1,r<o&&(o=r));if(i){e.splice(m--,1);var s=l();void 0!==s&&(t=s)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[n,l,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,r,o=n[0],i=n[1],u=n[2],s=0;if(o.some((function(t){return 0!==e[t]}))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(u)var m=u(a)}for(t&&t(n);s<o.length;s++)r=o[s],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(m)},n=self["webpackChunkmortgage_calculator"]=self["webpackChunkmortgage_calculator"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(3888)}));n=a.O(n)})();
//# sourceMappingURL=app.819a4b7b.js.map